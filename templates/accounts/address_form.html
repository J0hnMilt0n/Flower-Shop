{% extends 'base.html' %}
{% block title %}{% if form.instance.pk %}Edit{% else %}Add{% endif %} Address | Bloomify{% endblock %}
{% block content %}
<div class="bg-gradient-to-r from-primary-50 to-secondary-50 py-8">
  <div class="container mx-auto px-4">
    <h1 class="font-display text-3xl md:text-4xl font-bold text-gray-800">
      {% if form.instance.pk %}Edit Address{% else %}Add New Address{% endif %}
    </h1>
  </div>
</div>

<div class="container mx-auto px-4 py-8">
  <div class="max-w-2xl mx-auto">
    <div class="bg-white rounded-xl shadow-sm p-6">
      <form method="post">
        {% csrf_token %}

        <div class="grid md:grid-cols-2 gap-4">
          <div class="md:col-span-2">
            <label class="block text-gray-700 font-medium mb-1"
              >Full Name *</label
            >
            <input
              type="text"
              name="full_name"
              value="{{ form.full_name.value|default:'' }}"
              class="w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-300"
              required
            />
            {% if form.full_name.errors %}
            <p class="text-red-500 text-sm mt-1">
              {{ form.full_name.errors.0 }}
            </p>
            {% endif %}
          </div>

          <div>
            <label class="block text-gray-700 font-medium mb-1"
              >Phone Number *</label
            >
            <input
              type="tel"
              name="phone"
              value="{{ form.phone.value|default:'' }}"
              class="w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-300"
              required
            />
          </div>

          <div>
            <label class="block text-gray-700 font-medium mb-1"
              >Alternate Phone</label
            >
            <input
              type="tel"
              name="alternate_phone"
              value="{{ form.alternate_phone.value|default:'' }}"
              class="w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-300"
            />
          </div>

          <div class="md:col-span-2">
            <label class="block text-gray-700 font-medium mb-1"
              >Address Line 1 *</label
            >
            <input
              type="text"
              name="address_line1"
              value="{{ form.address_line1.value|default:'' }}"
              placeholder="House No., Building Name, Street"
              class="w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-300"
              required
            />
          </div>

          <div class="md:col-span-2">
            <label class="block text-gray-700 font-medium mb-1"
              >Address Line 2</label
            >
            <input
              type="text"
              name="address_line2"
              value="{{ form.address_line2.value|default:'' }}"
              placeholder="Area, Colony"
              class="w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-300"
            />
          </div>

          <div>
            <label class="block text-gray-700 font-medium mb-1">Landmark</label>
            <input
              type="text"
              name="landmark"
              value="{{ form.landmark.value|default:'' }}"
              placeholder="Nearby famous place/shop"
              class="w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-300"
            />
          </div>

          <div>
            <label class="block text-gray-700 font-medium mb-1"
              >Pincode *</label
            >
            <input
              type="text"
              name="pincode"
              value="{{ form.pincode.value|default:'' }}"
              class="w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-300"
              required
              pattern="[0-9]{6}"
            />
          </div>

          <div>
            <label class="block text-gray-700 font-medium mb-1">City *</label>
            <input
              type="text"
              name="city"
              value="{{ form.city.value|default:'' }}"
              class="w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-300"
              required
            />
          </div>

          <div>
            <label class="block text-gray-700 font-medium mb-1">State *</label>
            <input
              type="text"
              name="state"
              value="{{ form.state.value|default:'' }}"
              class="w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-300"
              required
            />
          </div>

          <div class="md:col-span-2">
            <label class="block text-gray-700 font-medium mb-2"
              >Address Type</label
            >
            <div class="flex gap-4">
              <label class="flex items-center cursor-pointer">
                <input type="radio" name="address_type" value="home" {% if form.address_type.value == 'home' or not form.address_type.value %}checked{% endif %} class="mr-2">
                <span class="flex items-center"><i class="fas fa-home mr-1"></i> Home</span>
              </label>
              <label class="flex items-center cursor-pointer">
                <input type="radio" name="address_type" value="office" {% if form.address_type.value == 'office' %}checked{% endif %} class="mr-2">
                <span class="flex items-center"><i class="fas fa-building mr-1"></i> Office</span>
              </label>
              <label class="flex items-center cursor-pointer">
                <input type="radio" name="address_type" value="other" {% if form.address_type.value == 'other' %}checked{% endif %} class="mr-2">
                <span class="flex items-center"><i class="fas fa-map-marker-alt mr-1"></i> Other</span>
              </label>
            </div>
          </div>

          <div class="md:col-span-2">
            <label class="flex items-center cursor-pointer">
              <input type="checkbox" name="is_default" {% if form.is_default.value %}checked{% endif %} class="mr-2" />
              <span>Set as default address</span>
            </label>
          </div>
        </div>

        <div class="flex gap-4 mt-6">
          <button
            type="submit"
            class="bg-primary-500 text-white px-8 py-3 rounded-full font-medium hover:bg-primary-600 transition"
          >
            {% if form.instance.pk %}Update Address{% else %}Save Address{% endif %}
          </button>
          <a
            href="{% url 'accounts:addresses' %}"
            class="bg-gray-100 text-gray-700 px-8 py-3 rounded-full font-medium hover:bg-gray-200 transition"
          >
            Cancel
          </a>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}
