{% extends 'base.html' %} {% block title %}Flower Type Management | Bloomify
Admin{% endblock %} {% block content %}
<div class="bg-gradient-to-r from-primary-500 to-primary-600 py-8">
  <div class="container mx-auto px-4">
    <nav class="text-primary-100 text-sm mb-2">
      <a href="{% url 'shop:product_management' %}" class="hover:text-white"
        >Product Management</a
      >
      <span class="mx-2">/</span>
      <span class="text-white">Flower Types</span>
    </nav>
    <h1 class="font-display text-3xl md:text-4xl font-bold text-white">
      Flower Type Management
    </h1>
  </div>
</div>

<div class="container mx-auto px-4 py-8">
  <div class="grid lg:grid-cols-3 gap-8">
    <!-- Add Flower Type Form -->
    <div class="lg:col-span-1">
      <div class="bg-white rounded-xl shadow-sm p-6 sticky top-24">
        <h2 class="text-lg font-semibold text-gray-800 mb-4">
          <i class="fas fa-leaf text-green-500 mr-2"></i> Add New Flower Type
        </h2>

        <form method="post" enctype="multipart/form-data" class="space-y-4">
          {% csrf_token %}

          <div>
            <label class="block text-gray-700 font-medium mb-1"
              >Flower Type Name *</label
            >
            {{ form.name }}
            <p class="text-gray-400 text-sm mt-1">
              e.g., Roses, Lilies, Tulips
            </p>
          </div>

          <div>
            <label class="block text-gray-700 font-medium mb-1"
              >Description</label
            >
            {{ form.description }}
          </div>

          <div>
            <label class="block text-gray-700 font-medium mb-1">Image</label>
            <input
              type="file"
              name="image"
              accept="image/*"
              class="w-full px-4 py-3 border border-gray-300 rounded-lg"
            />
          </div>

          <button
            type="submit"
            class="w-full bg-primary-500 text-white py-3 rounded-lg font-semibold hover:bg-primary-600 transition"
          >
            <i class="fas fa-save mr-2"></i> Add Flower Type
          </button>
        </form>
      </div>
    </div>

    <!-- Flower Types Grid -->
    <div class="lg:col-span-2">
      <div class="bg-white rounded-xl shadow-sm p-6">
        <h2 class="text-lg font-semibold text-gray-800 mb-6">
          All Flower Types ({{ flower_types.count }})
        </h2>

        <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
          {% for flower_type in flower_types %}
          <div
            class="border rounded-xl p-4 hover:shadow-md transition relative group"
          >
            <div
              class="w-full h-24 bg-gray-100 rounded-lg overflow-hidden mb-3"
            >
              {% if flower_type.image %}
              <img
                src="{{ flower_type.image.url }}"
                alt="{{ flower_type.name }}"
                class="w-full h-full object-cover"
              />
              {% else %}
              <div
                class="w-full h-full flex items-center justify-center text-3xl"
              >
                ðŸŒº
              </div>
              {% endif %}
            </div>
            <h3 class="font-semibold text-gray-800">{{ flower_type.name }}</h3>
            <p class="text-sm text-gray-500">
              {{ flower_type.products.count }} products
            </p>

            <form
              action="{% url 'shop:flower_type_delete' flower_type.id %}"
              method="post"
              class="absolute top-2 left-2 opacity-0 group-hover:opacity-100 transition"
              onsubmit="return confirm('Delete this flower type?')"
            >
              {% csrf_token %}
              <button
                class="p-2 bg-red-500 text-white rounded-full hover:bg-red-600 text-xs"
              >
                <i class="fas fa-times"></i>
              </button>
            </form>
          </div>
          {% empty %}
          <div class="col-span-full text-center py-12 text-gray-500">
            <i class="fas fa-seedling text-4xl mb-4"></i>
            <p>No flower types yet. Add your first flower type!</p>
          </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
